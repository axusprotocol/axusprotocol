<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AXUS | Loan Application</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: auto; padding: 2rem; background: #fff; color: #111; }
    h1 { color: #007aff; }
    input, select, button, label { display: block; margin: 10px 0; padding: 10px; width: 100%; max-width: 500px; }
    .result { margin-top: 20px; padding: 1rem; border: 1px solid #ccc; background: #f9f9f9; }
    .back-button { margin-top: 2rem; display: inline-block; background: #e5e5e5; color: #333; padding: 10px 20px; text-decoration: none; border-radius: 5px; }
  </style>
</head>
<body>

  <h1>AXUS Loan Application</h1>
  <p>Please fill in the information below. Note: approval takes up to 24 hours after manual review by oracle team.</p>

  <label for="jetton">Jetton Address</label>
  <input type="text" id="jetton" placeholder="Enter Jetton address (base64)" required>

  <label for="amount">Amount of Tokens</label>
  <input type="number" id="amount" placeholder="How many tokens you are sending" required>

  <label for="usdValue">Total USD Value</label>
  <input type="number" id="usdValue" placeholder="Enter total USD value of tokens" required>

  <label for="days">Choose loan duration</label>
  <select id="days">
    <option value="10">10 days (+5%)</option>
    <option value="20">20 days (+7.2%)</option>
    <option value="30">30 days (+9.1%)</option>
    <option value="60">60 days (+23.6%)</option>
  </select>

  <button onclick="calculateAXP()">Submit Application</button>

  <div class="result" id="result"></div>

  <a class="back-button" href="token-check.html">← Back to Collateral Checker</a>

  <script>
    function calculateAXP() {
      const address = document.getElementById("jetton").value;
      const tokens = parseFloat(document.getElementById("amount").value);
      const usd = parseFloat(document.getElementById("usdValue").value);
      const days = parseInt(document.getElementById("days").value);
      const resultDiv = document.getElementById("result");

      if (!address || isNaN(tokens) || isNaN(usd)) {
        resultDiv.innerHTML = "❌ Please fill all fields.";
        return;
      }

      // Базовая логика расчета
      const baseAXP = usd * 0.60;
      const burnedAXP = baseAXP * 0.015;
      const receivedAXP = baseAXP - burnedAXP;

      let percent = 0;
      switch (days) {
        case 10: percent = 5; break;
        case 20: percent = 7.2; break;
        case 30: percent = 9.1; break;
        case 60: percent = 23.6; break;
      }

      const repayAXP = receivedAXP * (1 + percent / 100);

      resultDiv.innerHTML = `
        <strong>Application Summary:</strong><br>
        Jetton Address: ${address}<br>
        Tokens sent: ${tokens}<br>
        Total USD Value: $${usd.toFixed(2)}<br>
        Loan duration: ${days} days<br>
        <strong>AXP to receive:</strong> ${receivedAXP.toFixed(2)}<br>
        <strong>AXP to repay:</strong> ${repayAXP.toFixed(2)} (includes +${percent}%)<br>
        <strong>AXP burned (1.5%):</strong> ${burnedAXP.toFixed(2)}<br><br>
        <em>Note:</em> Your request will be reviewed by our oracles. You'll get a decision within 24 hours.<br>
        AXUS Protocol reserves the right to reject the application after internal checks.
      `;
    }
  </script>

</body>
</html>
